<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="Gary Clayburg">
<title>Memuser API Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<style>
.hidden {
	display: none;
}

.switch {
	border-width: 1px 1px 0 1px;
	border-style: solid;
	border-color: #7a2518;
	display: inline-block;
}

.switch--item {
	padding: 10px;
	background-color: #ffffff;
	color: #7a2518;
	display: inline-block;
	cursor: pointer;
}

.switch--item:not(:first-child) {
	border-width: 0 0 0 1px;
	border-style: solid;
	border-color: #7a2518;
}

.switch--item.selected {
	background-color: #7a2519;
	color: #ffffff;
}

</style>
<script type="text/javascript">
function addBlockSwitches() {
	for (var primary of document.querySelectorAll('.primary')) {
		var switchItem = createSwitchItem(primary, createBlockSwitch(primary));
		switchItem.item.classList.add("selected");
		var title = primary.querySelector('.title')
		title.remove();
	}
	for (var secondary of document.querySelectorAll('.secondary')) {
		var primary = findPrimary(secondary);
		if (primary === null) {
			console.error("Found secondary block with no primary sibling");
		}
		else {
			var switchItem = createSwitchItem(secondary, primary.querySelector('.switch'));
			switchItem.content.classList.add("hidden");
			primary.append(switchItem.content);
			secondary.remove();
		}
	}
}

function createElementFromHtml(html) {
	var template = document.createElement('template');
    template.innerHTML = html;
    return template.content.firstChild;
}

function createBlockSwitch(primary) {
    var blockSwitch = createElementFromHtml('<div class="switch"></div>');
    primary.prepend(blockSwitch)
	return blockSwitch;
}

function findPrimary(secondary) {
	var candidate = secondary.previousElementSibling;
	while (candidate != null && !candidate.classList.contains('primary')) {
		candidate = candidate.previousElementSibling;
	}
	return candidate;
}

function createSwitchItem(block, blockSwitch) {
	var blockName = block.querySelector('.title').textContent;
	var content = block.querySelectorAll('.content').item(0);
	var colist = nextSibling(block, '.colist');
	if (colist != null) {
		content.append(colist);
	}
	var item = createElementFromHtml('<div class="switch--item">' + blockName + '</div>');
	item.dataset.blockName = blockName;
	content.dataset.blockName = blockName;
	blockSwitch.append(item);
	return {'item': item, 'content': content};
}

function nextSibling(element, selector) {
	var sibling = element.nextElementSibling;
	while (sibling) {
		if (sibling.matches(selector)) {
			return sibling;
		}
		sibling = sibling.nextElementSibling;
	}
}

function globalSwitch() {
	document.querySelectorAll(".switch--item").forEach(function(item) {
		var blockId = blockIdForSwitchItem(item);
		var handler = function(event) {
			selectedText = event.target.textContent;
			window.localStorage.setItem(blockId, selectedText);
			for (var switchItem of document.querySelectorAll(".switch--item")) {
				if (blockIdForSwitchItem(switchItem) === blockId && switchItem.textContent === selectedText) {
					select(switchItem);
				}
			}
		}
		item.addEventListener("click", handler);
		if (item.textContent === window.localStorage.getItem(blockId)) {
			select(item);
		}
	});
}

function select(selected) {
	for (var child of selected.parentNode.children) {
		child.classList.remove("selected");
	}
	selected.classList.add("selected");
	for (var child of selected.parentNode.parentNode.children) {
		if (child.classList.contains("content")) {
			if (selected.dataset.blockName === child.dataset.blockName) {
				child.classList.remove("hidden");
			}
			else {
				child.classList.add("hidden");
			}
		}
	}	
}

function blockIdForSwitchItem(item) {
	idComponents = []
	for (var switchItem of item.parentNode.querySelectorAll(".switch--item")) {
		idComponents.push(switchItem.textContent.toLowerCase());
	}
	return idComponents.sort().join("-")
}

window.onload = function() {
	addBlockSwitches();
	globalSwitch();
};

</script>

</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Memuser API Guide</h1>
<div class="details">
<span id="author" class="author">Gary Clayburg</span><br>
<span id="revnumber">version 0.9.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#overview">1. Overview</a></li>
<li><a href="#Startup">2. Starting</a>
<ul class="sectlevel2">
<li><a href="#from-a-docker-image">2.1. From a docker image</a></li>
<li><a href="#from-source">2.2. From source</a></li>
</ul>
</li>
<li><a href="#create-user">3. Create Minimal User</a>
<ul class="sectlevel2">
<li><a href="#request">3.1. request</a></li>
<li><a href="#response">3.2. response</a></li>
</ul>
</li>
<li><a href="#get-user">4. GET User</a>
<ul class="sectlevel2">
<li><a href="#request-2">4.1. request</a></li>
<li><a href="#response-2">4.2. response</a></li>
</ul>
</li>
<li><a href="#duplicate-username">5. Duplicate userName</a>
<ul class="sectlevel2">
<li><a href="#response-3">5.1. response</a></li>
</ul>
</li>
<li><a href="#faq">6. FAQ</a>
<ul class="sectlevel2">
<li><a href="#why-is-there-both-a-username-and-id">6.1. Why is there both a <code>userName</code> and <code>id</code>?</a></li>
<li><a href="#does-the-client-or-server-have-the-most-accurate-username">6.2. Does the client or server have the most accurate <code>userName</code>?</a></li>
</ul>
</li>
<li><a href="#change-username">7. Change userName</a>
<ul class="sectlevel2">
<li><a href="#request-3">7.1. request</a></li>
<li><a href="#response-4">7.2. response</a></li>
</ul>
</li>
<li><a href="#replace-entire-user">8. Replace entire User</a>
<ul class="sectlevel2">
<li><a href="#request-4">8.1. request</a></li>
<li><a href="#response-5">8.2. response</a></li>
</ul>
</li>
<li><a href="#create-user-with-full-name">9. Create user with full name</a>
<ul class="sectlevel2">
<li><a href="#request-5">9.1. request</a></li>
<li><a href="#response-6">9.2. response</a></li>
</ul>
</li>
<li><a href="#create-arbitrary-user">10. Create arbitrary User</a>
<ul class="sectlevel2">
<li><a href="#request-6">10.1. request</a></li>
<li><a href="#response-7">10.2. response</a></li>
</ul>
</li>
<li><a href="#get-user-list">11. Get User List</a>
<ul class="sectlevel2">
<li><a href="#request-7">11.1. request</a></li>
<li><a href="#response-8">11.2. response</a></li>
</ul>
</li>
<li><a href="#rigid-user-fields">12. Rigid User Fields</a></li>
<li><a href="#overview-http-verbs">13. HTTP verbs</a></li>
<li><a href="#overview-http-status-codes">14. HTTP status codes</a></li>
<li><a href="#overview-errors">15. Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#startup">15.1. startup</a></li>
<li><a href="#fine-tuning">15.2. Fine tuning</a></li>
</ul>
</li>
<li><a href="#security">16. Security</a>
<ul class="sectlevel2">
<li><a href="#password">16.1. password</a>
<ul class="sectlevel3">
<li><a href="#response-9">16.1.1. response</a></li>
</ul>
</li>
<li><a href="#tlshttps-support">16.2. TLS/HTTPS support</a></li>
<li><a href="#authentication">16.3. Authentication</a>
<ul class="sectlevel3">
<li><a href="#basic-authentication-defaults">16.3.1. Basic Authentication defaults</a></li>
<li><a href="#custom-username-and-password">16.3.2. Custom username and password</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">1. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Memuser is a simple tool for storing and retrieving user information.  All data is stored in memory, nothing is persisted.  The API used is based loosely on the <a href="http://www.simplecloud.info">SCIM protocol</a>, which is essentially JSON with some standardized semantics.</p>
</div>
<div class="paragraph">
<p><strong>Why?</strong> Memuser was created to help with testing some security integration scenarios without having to deal with the overhead of persisting user information.  We want to be able to test out User data integration scenarios and not worry so much about the normal data lifecycle issues.  Of course, real systems will need to deal with these issues, but we don&#8217;t want to hinder our ability to model the lifecycle of user information when we are building out our user security model.</p>
</div>
<div class="paragraph">
<p>If you have a tool that can provision SCIM users, you can probably use it to manage users in Memuser.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Startup"><a class="link" href="#Startup">2. Starting</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="from-a-docker-image"><a class="link" href="#from-a-docker-image">2.1. From a docker image</a></h3>
<div class="paragraph">
<p>The easiest way to start memuser is with <a href="https://www.docker.com/">docker</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ docker run --rm  -d -p9080:8080 --name memuser gclayburg/memuser</pre>
</div>
</div>
<div class="paragraph">
<p>When finished, stop it with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ docker stop memuser</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="from-source"><a class="link" href="#from-source">2.2. From source</a></h3>
<div class="paragraph">
<p>You could also run the application as a standalone jar file once you build it yourself:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git clone git@github.com:gclayburg/memuser.git
$ cd memuser
$ ./gradlew build
$ ls -l build/libs/*jar
$ java -jar build/libs/memuser-0.9.1-SNAPSHOT.jar</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Make sure you specify the correct version you built.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Stop it with Ctrl-c</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-user"><a class="link" href="#create-user">3. Create Minimal User</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="request"><a class="link" href="#request">3.1. request</a></h3>
<div class="paragraph">
<p>Let&#8217;s jump into creating a user.  When Memuser is started, there are no users loaded.  Let&#8217;s create one:</p>
</div>
<div class="listingblock primary">
<div class="title">cURL</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ curl 'http://localhost:8080/api/multiv2/specdomain1/Users' -i -X POST \
    -H 'Content-Type: application/scim+json' \
    -H 'Accept: application/scim+json' \
    -d '
{
  "userName": "alicesmith",
  "displayName": "Alice P Smith"
}
'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">HTTPie</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ echo '
{
  "userName": "alicesmith",
  "displayName": "Alice P Smith"
}
' | http POST 'http://localhost:8080/api/multiv2/specdomain1/Users' \
    'Content-Type:application/scim+json' \
    'Accept:application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">http</div>
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">POST /api/multiv2/specdomain1/Users HTTP/1.1
Content-Type: application/scim+json
Accept: application/scim+json
Content-Length: 66
Host: localhost:8080


{
  "userName": "alicesmith",
  "displayName": "Alice P Smith"
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We show 3 different ways to generate a JSON request - the ubiquitous <a href="https://curl.haxx.se/">cURL</a>, <a href="https://httpie.org/">HTTPie</a> and raw HTTP
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="response"><a class="link" href="#response">3.2. response</a></h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">HTTP/1.1 201 Created
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/scim+json
Content-Length: 457

{
  "id" : "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "schemas" : [ "urn:ietf:params:scim:schemas:core:2.0:User" ],
  "meta" : {
    "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
    "resourceType" : "User",
    "created" : "2024-03-31T22:33:25.903-06:00",
    "lastModified" : "2024-03-31T22:33:25.903-06:00"
  },
  "userName" : "alicesmith",
  "active" : false,
  "displayName" : "Alice P Smith"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a minimal user.  Only the <code>userName</code> field is required.</p>
</div>
<div class="paragraph">
<p>The returned JSON response includes the exact user that the Memuser server created. The extra fields are per the <a href="https://tools.ietf.org/html/rfc7643#section-8.1">SCIM spec</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="get-user"><a class="link" href="#get-user">4. GET User</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="request-2"><a class="link" href="#request-2">4.1. request</a></h3>
<div class="paragraph">
<p>Take a look at the <code>id</code> field.  This was generated by Memuser and is guaranteed to be unique and never changing among all users that it knows about.  <code>id</code> is also part of <code>meta.location</code>.  We can use this field to retrieve our generated user:</p>
</div>
<div class="listingblock primary">
<div class="title">cURL</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ curl 'http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57' -i -X GET \
    -H 'Accept: application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">HTTPie</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ http GET 'http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57' \
    'Accept:application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">http</div>
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">GET /api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57 HTTP/1.1
Accept: application/scim+json
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="response-2"><a class="link" href="#response-2">4.2. response</a></h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/scim+json
Content-Length: 457

{
  "id" : "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "schemas" : [ "urn:ietf:params:scim:schemas:core:2.0:User" ],
  "meta" : {
    "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
    "resourceType" : "User",
    "created" : "2024-03-31T22:33:25.903-06:00",
    "lastModified" : "2024-03-31T22:33:25.903-06:00"
  },
  "userName" : "alicesmith",
  "active" : false,
  "displayName" : "Alice P Smith"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="duplicate-username"><a class="link" href="#duplicate-username">5. Duplicate userName</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lets try creating alice again:</p>
</div>
<div class="listingblock primary">
<div class="title">cURL</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ curl 'http://localhost:8080/api/multiv2/specdomain1/Users' -i -X POST \
    -H 'Content-Type: application/scim+json' \
    -H 'Accept: application/scim+json' \
    -d '
{
  "userName": "alicesmith",
  "displayName": "Alice P Smith"
}
'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">HTTPie</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ echo '
{
  "userName": "alicesmith",
  "displayName": "Alice P Smith"
}
' | http POST 'http://localhost:8080/api/multiv2/specdomain1/Users' \
    'Content-Type:application/scim+json' \
    'Accept:application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">http</div>
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">POST /api/multiv2/specdomain1/Users HTTP/1.1
Content-Type: application/scim+json
Accept: application/scim+json
Content-Length: 66
Host: localhost:8080


{
  "userName": "alicesmith",
  "displayName": "Alice P Smith"
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="response-3"><a class="link" href="#response-3">5.1. response</a></h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">HTTP/1.1 409 Conflict
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/scim+json
Content-Length: 138

{
  "detail" : "userName alicesmith already exists",
  "status" : "409",
  "schemas" : [ "urn:ietf:params:scim:api:messages:2.0:Error" ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>userName</code> must be unique.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="faq"><a class="link" href="#faq">6. FAQ</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="why-is-there-both-a-username-and-id"><a class="link" href="#why-is-there-both-a-username-and-id">6.1. Why is there both a <code>userName</code> and <code>id</code>?</a></h3>
<div class="paragraph">
<p>One reason is that this allows users to change their userName in Memuser without necessarily notifying clients.  For example, lets say Alice gets married to Tom Jones.  She changes her last name from Smith to Jones.  Alice is happy.  She comes in to work on Monday and updates her HR records to change her last name to Smith.  She would like to log on to her computer with alicejones and not alicesmith.  It sounds like a simple request, but it can cause headaches when we are dealing with many interconnected IT systems that require user identity.  There may be multiiple places that need to get updated.  If they aren&#8217;t all updated, Alice would at best see strange errors.</p>
</div>
<div class="paragraph">
<p>So instead, we store the initial userName in Memuser when we first create the user on behalf of the client.  Our client stores a reference to it using the unique <code>id</code>.  The client may also keep track of the <code>userName</code>, but it realizes this <code>userName</code> stored in Memuser could change at any point.  Since the client knows Alice by her <code>id</code> and not <code>userName</code>, it may not even need to be updated when the <code>userName</code> changes in Memuser.</p>
</div>
</div>
<div class="sect2">
<h3 id="does-the-client-or-server-have-the-most-accurate-username"><a class="link" href="#does-the-client-or-server-have-the-most-accurate-username">6.2. Does the client or server have the most accurate <code>userName</code>?</a></h3>
<div class="paragraph">
<p>There is nothing in the SCIM protocol itself to determine this.  It is up to you to determine a convention that works for your workflow.  You will need to decide where the authoritative sources are for each user attribute.  The SCIM protocol really shines in simplifying and standardizing how independent but related user domains can reason about user relationships.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="change-username"><a class="link" href="#change-username">7. Change userName</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="request-3"><a class="link" href="#request-3">7.1. request</a></h3>
<div class="listingblock primary">
<div class="title">cURL</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ curl 'http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57' -i -X PUT \
    -H 'Content-Type: application/scim+json' \
    -H 'Accept: application/scim+json' \
    -d '{
  "id" : "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "userName" : "alicejones",
  "active" : false
}'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">HTTPie</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ echo '{
  "id" : "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "userName" : "alicejones",
  "active" : false
}' | http PUT 'http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57' \
    'Content-Type:application/scim+json' \
    'Accept:application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">http</div>
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">PUT /api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57 HTTP/1.1
Content-Type: application/scim+json
Accept: application/scim+json
Content-Length: 100
Host: localhost:8080

{
  "id" : "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "userName" : "alicejones",
  "active" : false
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="response-4"><a class="link" href="#response-4">7.2. response</a></h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/scim+json
Content-Length: 358

{
  "id" : "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "meta" : {
    "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
    "resourceType" : "User",
    "created" : "2024-03-31T22:33:25.903-06:00",
    "lastModified" : "2024-03-31T22:33:25.950-06:00"
  },
  "userName" : "alicejones",
  "active" : false
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alice&#8217;s userName changes, the <code>id</code> and <code>meta.location</code> do not.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Notice <code>displayName</code> no longer exists for Alice.  We changed the existing Alice with a PUT request.  Memuser will replace the entire user with what was sent in the request.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="replace-entire-user"><a class="link" href="#replace-entire-user">8. Replace entire User</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="request-4"><a class="link" href="#request-4">8.1. request</a></h3>
<div class="paragraph">
<p>If we want Memuser to retain all user fields during a userName change, we need to send a full PUT request like this:</p>
</div>
<div class="listingblock primary">
<div class="title">cURL</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ curl 'http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57' -i -X PUT \
    -H 'Content-Type: application/scim+json' \
    -H 'Accept: application/scim+json' \
    -d '
{
  "id": "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "userName": "alicejones",
  "displayName": "Alice P Smith"
}
'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">HTTPie</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ echo '
{
  "id": "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "userName": "alicejones",
  "displayName": "Alice P Smith"
}
' | http PUT 'http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57' \
    'Content-Type:application/scim+json' \
    'Accept:application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">http</div>
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">PUT /api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57 HTTP/1.1
Content-Type: application/scim+json
Accept: application/scim+json
Content-Length: 114
Host: localhost:8080


{
  "id": "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "userName": "alicejones",
  "displayName": "Alice P Smith"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="response-5"><a class="link" href="#response-5">8.2. response</a></h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/scim+json
Content-Length: 393

{
  "id" : "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
  "meta" : {
    "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
    "resourceType" : "User",
    "created" : "2024-03-31T22:33:25.903-06:00",
    "lastModified" : "2024-03-31T22:33:25.963-06:00"
  },
  "userName" : "alicejones",
  "active" : false,
  "displayName" : "Alice P Smith"
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-user-with-full-name"><a class="link" href="#create-user-with-full-name">9. Create user with full name</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="request-5"><a class="link" href="#request-5">9.1. request</a></h3>
<div class="paragraph">
<p>Lets create a user with a few more fields:</p>
</div>
<div class="listingblock primary">
<div class="title">cURL</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ curl 'http://localhost:8080/api/multiv2/specdomain1/Users' -i -X POST \
    -H 'Content-Type: application/scim+json' \
    -H 'Accept: application/scim+json' \
    -d '
{
  "userName": "tomjones",
  "name": {
    "formatted": "Dr. Tom J Jones",
    "familyName": "Jones",
    "givenName": "Tom",
    "middleName": "Jackson",
    "honorificPrefix": "Dr."
  },
  "displayName": "Tom Jones"
}
'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">HTTPie</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ echo '
{
  "userName": "tomjones",
  "name": {
    "formatted": "Dr. Tom J Jones",
    "familyName": "Jones",
    "givenName": "Tom",
    "middleName": "Jackson",
    "honorificPrefix": "Dr."
  },
  "displayName": "Tom Jones"
}
' | http POST 'http://localhost:8080/api/multiv2/specdomain1/Users' \
    'Content-Type:application/scim+json' \
    'Accept:application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">http</div>
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">POST /api/multiv2/specdomain1/Users HTTP/1.1
Content-Type: application/scim+json
Accept: application/scim+json
Content-Length: 222
Host: localhost:8080


{
  "userName": "tomjones",
  "name": {
    "formatted": "Dr. Tom J Jones",
    "familyName": "Jones",
    "givenName": "Tom",
    "middleName": "Jackson",
    "honorificPrefix": "Dr."
  },
  "displayName": "Tom Jones"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="response-6"><a class="link" href="#response-6">9.2. response</a></h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">HTTP/1.1 201 Created
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/scim+json
Content-Length: 619

{
  "id" : "091f2f5b-a9e8-4de4-a5b2-4ab8b7b84a23",
  "schemas" : [ "urn:ietf:params:scim:schemas:core:2.0:User" ],
  "meta" : {
    "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/091f2f5b-a9e8-4de4-a5b2-4ab8b7b84a23",
    "resourceType" : "User",
    "created" : "2024-03-31T22:33:25.970-06:00",
    "lastModified" : "2024-03-31T22:33:25.970-06:00"
  },
  "userName" : "tomjones",
  "active" : false,
  "name" : {
    "formatted" : "Dr. Tom J Jones",
    "familyName" : "Jones",
    "givenName" : "Tom",
    "middleName" : "Jackson",
    "honorificPrefix" : "Dr."
  },
  "displayName" : "Tom Jones"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The fields included here are optional <code>name</code> fields documented in the <a href="https://tools.ietf.org/html/rfc7643#section-8.1">SCIM spec</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-arbitrary-user"><a class="link" href="#create-arbitrary-user">10. Create arbitrary User</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="request-6"><a class="link" href="#request-6">10.1. request</a></h3>
<div class="paragraph">
<p>We can also create a Memuser user with fields that aren&#8217;t necessarily <a href="https://tools.ietf.org/html/rfc7643#section-4.1">SCIM defined User resource fields</a>:</p>
</div>
<div class="listingblock primary">
<div class="title">cURL</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ curl 'http://localhost:8080/api/multiv2/specdomain1/Users' -i -X POST \
    -H 'Content-Type: application/scim+json' \
    -H 'Accept: application/scim+json' \
    -d '
{
  "userName": "harry",
  "displayName": "Tom Jones",
  "mailcode": "CHP",
  "emailaddress": "tomjones@gmail.com"
}
'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">HTTPie</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ echo '
{
  "userName": "harry",
  "displayName": "Tom Jones",
  "mailcode": "CHP",
  "emailaddress": "tomjones@gmail.com"
}
' | http POST 'http://localhost:8080/api/multiv2/specdomain1/Users' \
    'Content-Type:application/scim+json' \
    'Accept:application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">http</div>
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">POST /api/multiv2/specdomain1/Users HTTP/1.1
Content-Type: application/scim+json
Accept: application/scim+json
Content-Length: 118
Host: localhost:8080


{
  "userName": "harry",
  "displayName": "Tom Jones",
  "mailcode": "CHP",
  "emailaddress": "tomjones@gmail.com"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="response-7"><a class="link" href="#response-7">10.2. response</a></h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">HTTP/1.1 201 Created
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/scim+json
Content-Length: 511

{
  "id" : "95c5159d-0242-4c5b-9623-9a51e7e4dfaf",
  "schemas" : [ "urn:ietf:params:scim:schemas:core:2.0:User" ],
  "meta" : {
    "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/95c5159d-0242-4c5b-9623-9a51e7e4dfaf",
    "resourceType" : "User",
    "created" : "2024-03-31T22:33:25.978-06:00",
    "lastModified" : "2024-03-31T22:33:25.978-06:00"
  },
  "userName" : "harry",
  "active" : false,
  "displayName" : "Tom Jones",
  "mailcode" : "CHP",
  "emailaddress" : "tomjones@gmail.com"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, we are using Memuser to model an application that expects users to have a <code>mailcode</code> and <code>emailaddress</code> top-level field.  Notice we did not define <code>mailcode</code> or <code>emailaddress</code> anywhere.  Memuser is dynamic.  It does not know ahead of time if these fields should be stored as an integer, string or some other datatype.  It doesn&#8217;t even have a notion of data validation.  This is by design.  Other than fields like <code>id</code> and <code>userName</code>, <a href="#rigid-user-fields">Memuser does not enforce a rigid definition of what fields are required or allowed for users</a>.  JSON is flexible and so is Memuser.  Data validation is left up to the client.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="get-user-list"><a class="link" href="#get-user-list">11. Get User List</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="request-7"><a class="link" href="#request-7">11.1. request</a></h3>
<div class="paragraph">
<p>Here is a standard SCIM style request to retrieve a list of our users:</p>
</div>
<div class="listingblock primary">
<div class="title">cURL</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ curl 'http://localhost:8080/api/multiv2/specdomain1/Users/' -i -X GET \
    -H 'Accept: application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">HTTPie</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ http GET 'http://localhost:8080/api/multiv2/specdomain1/Users/' \
    'Accept:application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">http</div>
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">GET /api/multiv2/specdomain1/Users/ HTTP/1.1
Accept: application/scim+json
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="response-8"><a class="link" href="#response-8">11.2. response</a></h3>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Total-Count: 4
Link: &lt;http://localhost:8080/api/multiv2/specdomain1/Users/?page=0&amp;size=20&gt;; rel="last",&lt;http://localhost:8080/api/multiv2/specdomain1/Users/?page=0&amp;size=20&gt;; rel="first"
Content-Type: application/scim+json
Content-Length: 2220

{
  "schemas" : [ "urn:ietf:params:scim:api:messages:2.0:ListResponse" ],
  "totalResults" : 4,
  "itemsPerPage" : 4,
  "startIndex" : 1,
  "Resources" : [ {
    "id" : "3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
    "meta" : {
      "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/3b3e7428-62e5-40d9-a59e-a3df8e4ded57",
      "resourceType" : "User",
      "created" : "2024-03-31T22:33:25.903-06:00",
      "lastModified" : "2024-03-31T22:33:25.963-06:00"
    },
    "userName" : "alicejones",
    "active" : false,
    "displayName" : "Alice P Smith"
  }, {
    "id" : "6cf2b52b-0733-4429-84a8-8037674e3539",
    "schemas" : [ "urn:ietf:params:scim:schemas:core:2.0:User" ],
    "meta" : {
      "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/6cf2b52b-0733-4429-84a8-8037674e3539",
      "resourceType" : "User",
      "created" : "2024-03-31T22:33:25.938-06:00",
      "lastModified" : "2024-03-31T22:33:25.938-06:00"
    },
    "userName" : "alicebell",
    "active" : false
  }, {
    "id" : "091f2f5b-a9e8-4de4-a5b2-4ab8b7b84a23",
    "schemas" : [ "urn:ietf:params:scim:schemas:core:2.0:User" ],
    "meta" : {
      "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/091f2f5b-a9e8-4de4-a5b2-4ab8b7b84a23",
      "resourceType" : "User",
      "created" : "2024-03-31T22:33:25.970-06:00",
      "lastModified" : "2024-03-31T22:33:25.970-06:00"
    },
    "userName" : "tomjones",
    "active" : false,
    "name" : {
      "formatted" : "Dr. Tom J Jones",
      "familyName" : "Jones",
      "givenName" : "Tom",
      "middleName" : "Jackson",
      "honorificPrefix" : "Dr."
    },
    "displayName" : "Tom Jones"
  }, {
    "id" : "95c5159d-0242-4c5b-9623-9a51e7e4dfaf",
    "schemas" : [ "urn:ietf:params:scim:schemas:core:2.0:User" ],
    "meta" : {
      "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/95c5159d-0242-4c5b-9623-9a51e7e4dfaf",
      "resourceType" : "User",
      "created" : "2024-03-31T22:33:25.978-06:00",
      "lastModified" : "2024-03-31T22:33:25.978-06:00"
    },
    "userName" : "harry",
    "active" : false,
    "displayName" : "Tom Jones",
    "mailcode" : "CHP",
    "emailaddress" : "tomjones@gmail.com"
  } ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The list is formatted according to the <a href="https://tools.ietf.org/html/rfc7644#section-3.4.2">SCIM ListResponse</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rigid-user-fields"><a class="link" href="#rigid-user-fields">12. Rigid User Fields</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Special Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">required for every user; must be unique among all users</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unique identifier generated by Memuser for each new user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ignored</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="overview-http-verbs"><a class="link" href="#overview-http-verbs">13. HTTP verbs</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RESTful notes tries to adhere as closely as possible to standard HTTP and REST conventions in its
use of HTTP verbs.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Verb</th>
<th class="tableblock halign-left valign-top">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GET</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to retrieve a resource</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>POST</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to create a new resource</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PATCH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to update an existing resource, including partial updates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DELETE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to delete an existing resource</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="overview-http-status-codes"><a class="link" href="#overview-http-status-codes">14. HTTP status codes</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RESTful notes tries to adhere as closely as possible to standard HTTP and REST conventions in its
use of HTTP status codes.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status code</th>
<th class="tableblock halign-left valign-top">Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>200 OK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The request completed successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>201 Created</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A new resource has been created successfully. The resource&#8217;s URI is available from the response&#8217;s
<code>Location</code> header</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>204 No Content</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An update to an existing resource has been applied successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>400 Bad Request</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The request was malformed. The response body will include an error providing further information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>404 Not Found</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The requested resource did not exist</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="overview-errors"><a class="link" href="#overview-errors">15. Troubleshooting</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Memuser is based on spring boot, so there are a few settings that can be adjusted.  These examples show the configuration in the properties file format, but there are many other ways settings are <a href="https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-external-config.html">externalized in spring boot</a>, including environment variables, command line parameters and yaml.</p>
</div>
<div class="sect2">
<h3 id="startup"><a class="link" href="#startup">15.1. startup</a></h3>
<div class="paragraph">
<p>If you have troubles starting up, try turning on debug from <a href="https://github.com/gclayburg/upbanner">upbanner</a>:</p>
</div>
<div class="listingblock primary">
<div class="title">Properties</div>
<div class="content">
<pre class="prettyprint highlight linenums"><code data-lang="properties">upbanner.debug=true <1>
memuser.show-headers=true <2>
memuser.user-count=10000 <3></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="prettyprint highlight linenums"><code data-lang="yaml">upbanner:
  debug: true <1>
memuser:
  show-headers: true <2>
  user-count: 10000 <3></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>on startup, print out many debugging details to the stdout log about the environment it is running on</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>show all incoming http request headers to the stdout log</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>on startup, add 10000 users to the domain, default is 0.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="fine-tuning"><a class="link" href="#fine-tuning">15.2. Fine tuning</a></h3>
<div class="paragraph">
<p>PATCH requests normally return HTTP code 200 when successful.  Some systems (ahem, Microsoft) seems to expect a return code of 204.</p>
</div>
<div class="paragraph">
<p>It seems both can be considered correct as per RFC7644 section 3.5.2:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>On successful completion, the server either MUST return a 200 OK
response code and the entire resource within the response body,
subject to the "attributes" query parameter (see Section 3.9), or MAY
return HTTP status code 204 (No Content) and the appropriate response
headers for a successful PATCH request.  The server MUST return a 200
OK if the "attributes" parameter is specified in the request.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This setting will force memuser to return 204 instead of 200 for successful patch requests:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight linenums"><code data-lang="properties">memuser.patch-requests-return204=true</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security"><a class="link" href="#security">16. Security</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="password"><a class="link" href="#password">16.1. password</a></h3>
<div class="paragraph">
<p>The <code>password</code> field can be specified in a user create request or a change request, but per the SCIM spec, the value is never returned in clear text.  Memuser goes one step further and does not even store <code>password</code>.  However, this is only true for the password field named exactly <code>password</code>.</p>
</div>
<div class="listingblock primary">
<div class="title">cURL</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ curl 'http://localhost:8080/api/multiv2/specdomain1/Users' -i -X POST \
    -H 'Content-Type: application/scim+json' \
    -H 'Accept: application/scim+json' \
    -d '
{
  "userName": "billy",
  "password": "qwerty1234",
  "userpassword": "asdfghjkl"
}
'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">HTTPie</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">$ echo '
{
  "userName": "billy",
  "password": "qwerty1234",
  "userpassword": "asdfghjkl"
}
' | http POST 'http://localhost:8080/api/multiv2/specdomain1/Users' \
    'Content-Type:application/scim+json' \
    'Accept:application/scim+json'</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">http</div>
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">POST /api/multiv2/specdomain1/Users HTTP/1.1
Content-Type: application/scim+json
Accept: application/scim+json
Content-Length: 86
Host: localhost:8080


{
  "userName": "billy",
  "password": "qwerty1234",
  "userpassword": "asdfghjkl"
}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="response-9"><a class="link" href="#response-9">16.1.1. response</a></h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight nowrap"><code data-lang="http">HTTP/1.1 201 Created
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/scim+json
Content-Length: 449

{
  "id" : "0b2977e4-b22e-4a93-9158-83b26571fa32",
  "schemas" : [ "urn:ietf:params:scim:schemas:core:2.0:User" ],
  "meta" : {
    "location" : "http://localhost:8080/api/multiv2/specdomain1/Users/0b2977e4-b22e-4a93-9158-83b26571fa32",
    "resourceType" : "User",
    "created" : "2024-03-31T22:33:26.001-06:00",
    "lastModified" : "2024-03-31T22:33:26.001-06:00"
  },
  "userName" : "billy",
  "active" : false,
  "userpassword" : "asdfghjkl"
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tlshttps-support"><a class="link" href="#tlshttps-support">16.2. TLS/HTTPS support</a></h3>
<div class="paragraph">
<p>For convenience, there is a TLS certificate bundled for the hostname <code>gibberishhostname.example.com</code>.  It is only intended to be used testing purposes.  It is signed by a self-signed CA certificate, and not by any well known trusted CA.</p>
</div>
<div class="paragraph">
<p>To use this certificate and require memuser to be accessed over TLS, you&#8217;ll need to set properties like this.  The <code>server.port</code> can be adjusted, but the rest can not if you use the bundled <code>insecuretlswrapperwithgibberishhostname.p12</code> file.</p>
</div>
<div class="listingblock primary">
<div class="title">Properties</div>
<div class="content">
<pre class="prettyprint highlight linenums"><code data-lang="properties">security.require-ssl=true
server.port=443
server.ssl.key-store=classpath:insecuretlswrapperwithgibberishhostname.p12
server.ssl.key-store-password=changeit
server.ssl.key-store-type=PKCS12
server.ssl.key-alias=gibberishhostname</code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">Yaml</div>
<div class="content">
<pre class="prettyprint highlight linenums"><code data-lang="yaml">security:
  require-ssl: true
server:
  port: 443
  ssl:
    key-store: classpath:insecuretlswrapperwithgibberishhostname.p12
    key-store-password: changeit
    key-store-type: PKCS12
    key-alias: gibberishhostname</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="authentication"><a class="link" href="#authentication">16.3. Authentication</a></h3>
<div class="paragraph">
<p>By default, there is no authentication required to make http requests to memuser.  However, memuser
can be deployed to require basic authentication.</p>
</div>
<div class="sect3">
<h4 id="basic-authentication-defaults"><a class="link" href="#basic-authentication-defaults">16.3.1. Basic Authentication defaults</a></h4>
<div class="paragraph">
<p>Set this property to require basic authentication credentials:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>spring.profiles.active=secure</pre>
</div>
</div>
<div class="paragraph">
<p>This will force clients to supply basic authentication credentials.  The username is "user". The password is "password".</p>
</div>
</div>
<div class="sect3">
<h4 id="custom-username-and-password"><a class="link" href="#custom-username-and-password">16.3.2. Custom username and password</a></h4>
<div class="paragraph">
<p>If you want to use your own credentials, set environment variables named MEMUSER_USERNAME and MEMUSER_PASSWORD.  For example, lets use scott/tiger:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MEMUSER_USERNAME=scott
MEMUSER_PASSWORD=tiger</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.9.1<br>
Last updated 2024-03-31 22:32:24 -0600
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js"></script>
</body>
</html>